CREATE DATABASE my_database;


CREATE TABLE Подрядчик (
    ИдентификаторПодрядчика INTEGER PRIMARY KEY,
    ИмяПодрядчика TEXT,
    КонтактнаяИнформация TEXT,
    ПодписьПодрядчика TEXT
);

CREATE TABLE Заказчик (
    ИдентификаторЗаказчика INTEGER PRIMARY KEY,
    ИмяЗаказчика TEXT,
    КонтактнаяИнформация TEXT,
    ПодписьЗаказчика TEXT
);

-- Создание других таблиц




DROP TABLE IF EXISTS Подрядчик;

-- Создание таблицы "Подрядчик"
CREATE TABLE Подрядчик (
    ИдентификаторПодрядчика INT PRIMARY KEY,
    ИмяПодрядчика VARCHAR(100),
    КонтактнаяИнформация VARCHAR(255),
    ПодписьПодрядчика VARCHAR(100)
);

-- Удаление таблицы "Заказчик", если она уже существует
DROP TABLE IF EXISTS Заказчик;

-- Создание таблицы "Заказчик"
CREATE TABLE Заказчик (
    ИдентификаторЗаказчика INT PRIMARY KEY,
    ИмяЗаказчика VARCHAR(100),
    КонтактнаяИнформация VARCHAR(255),
    ПодписьЗаказчика VARCHAR(100)
);

-- Удаление таблицы "Договор", если она уже существует
DROP TABLE IF EXISTS Договор;

-- Создание таблицы "Договор"
CREATE TABLE Договор (
    ИдентификаторДоговора INT PRIMARY KEY,
    НомерДоговора VARCHAR(100),
    ДатаДоговора DATE,
    СуммаДоговора DECIMAL(10, 2),
    ИдентификаторПодрядчика INT,
    ИдентификаторЗаказчика INT,
    FOREIGN KEY (ИдентификаторПодрядчика) REFERENCES Подрядчик(ИдентификаторПодрядчика),
    FOREIGN KEY (ИдентификаторЗаказчика) REFERENCES Заказчик(ИдентификаторЗаказчика)
);

-- Удаление таблицы "Работа", если она уже существует
DROP TABLE IF EXISTS Работа;

-- Создание таблицы "Работа"
CREATE TABLE Работа (
    ИдентификаторРаботы INT PRIMARY KEY,
    НаименованиеРаботы VARCHAR(255),
    ФактическиеСрокиОкончанияРабот DATE,
    ЦенаРаботы DECIMAL(10, 2),
    КачествоРаботы INT,
    ЗамечанияЗаказчика VARCHAR(255),
    ИдентификаторДоговора INT,
    FOREIGN KEY (ИдентификаторДоговора) REFERENCES Договор(ИдентификаторДоговора)
);





-- Добавление данных о подрядчиках
INSERT INTO Подрядчик (ИдентификаторПодрядчика, ИмяПодрядчика, КонтактнаяИнформация, ПодписьПодрядчика) VALUES
(1, 'ООО "СтройГарант"', 'г. Москва, ул. Строителей, д. 10', 'Иванов Иван Иванович'),
(2, 'ИП Петров', 'г. Санкт-Петербург, ул. Строительная, д. 5', 'Петров Петр Петрович');

-- Добавление данных о заказчиках
INSERT INTO Заказчик (ИдентификаторЗаказчика, ИмяЗаказчика, КонтактнаяИнформация, ПодписьЗаказчика) VALUES
(1, 'ООО "КлиентСтрой"', 'г. Москва, ул. Заказчиков, д. 15', 'Сидоров Александр Васильевич'),
(2, 'Газпром', 'г. Санкт-Петербург, ул. Энергетиков, д. 20', 'Иванов Алексей Сергеевич');

-- Добавление данных о договорах
INSERT INTO Договор (ИдентификаторДоговора, НомерДоговора, ДатаДоговора, СуммаДоговора, ИдентификаторПодрядчика, ИдентификаторЗаказчика) VALUES
(1, 'Д-001', '2024-03-25', 50000.00, 1, 1),
(2, 'Д-002', '2024-03-26', 75000.00, 2, 2);

-- Добавление данных о работе
INSERT INTO Работа (ИдентификаторРаботы, НаименованиеРаботы, ФактическиеСрокиОкончанияРабот, ЦенаРаботы, КачествоРаботы, ЗамечанияЗаказчика, ИдентификаторДоговора) VALUES
(1, 'Строительство дома', '2024-04-30', 45000.00, 5, 'Отсутствуют', 1),
(2, 'Монтаж газопровода', '2024-05-15', 70000.00, 5, 'Отсутствуют', 2);



-- Удаление таблицы "Работа", если она уже существует
DROP TABLE IF EXISTS РаботаВыполнена;

-- Создание таблицы "РаботаВыполнена"
CREATE TABLE РаботаВыполнена (
    ИдентификаторРаботы INT PRIMARY KEY,
    НаименованиеРаботы VARCHAR(255),
    ФактическиеСрокиОкончанияРабот DATE,
    ЦенаРаботы DECIMAL(10, 2),
    КачествоРаботы INT,
    ЗамечанияЗаказчика VARCHAR(255),
    ИдентификаторДоговора INT,
    FOREIGN KEY (ИдентификаторДоговора) REFERENCES Договор(ИдентификаторДоговора)
);

-- Удаление таблицы "Работа", если она уже существует
DROP TABLE IF EXISTS РаботаМожноВыполнить;

-- Создание таблицы "РаботаМожноВыполнить"
CREATE TABLE РаботаМожноВыполнить (
    ИдентификаторРаботы INT PRIMARY KEY,
    НаименованиеРаботы VARCHAR(255),
    СрокиВыполненияРабот DATE,
    СтоимостьРаботы DECIMAL(10, 2),
    ОписаниеРаботы VARCHAR(255)
);

















СОЗДАЕМ ТАБЛИЦЫ

DROP TABLE IF EXISTS Подрядчик;

-- Создание таблицы "Подрядчик"
CREATE TABLE Подрядчик (
    ИдентификаторПодрядчика INT PRIMARY KEY,
    ИмяПодрядчика VARCHAR(100),
    КонтактнаяИнформация VARCHAR(255),
    ПодписьПодрядчика VARCHAR(100)
);
DROP TABLE IF EXISTS Заказчик;

-- Создание таблицы "Заказчик"
CREATE TABLE Заказчик (
    ИдентификаторЗаказчика INT PRIMARY KEY,
    ИмяЗаказчика VARCHAR(100),
    КонтактнаяИнформация VARCHAR(255),
    ПодписьЗаказчика VARCHAR(100)
);
-- Удаление таблицы "Договор", если она уже существует
DROP TABLE IF EXISTS Договор;

-- Создание таблицы "Договор"
CREATE TABLE Договор (
    ИдентификаторДоговора INT PRIMARY KEY,
    НомерДоговора VARCHAR(100),
    ДатаДоговора DATE,
    СуммаДоговора DECIMAL(10, 2),
    ИдентификаторПодрядчика INT,
    ИдентификаторЗаказчика INT,
    FOREIGN KEY (ИдентификаторПодрядчика) REFERENCES Подрядчик(ИдентификаторПодрядчика),
    FOREIGN KEY (ИдентификаторЗаказчика) REFERENCES Заказчик(ИдентификаторЗаказчика)
);
-- Удаление таблицы "Работа", если она уже существует
DROP TABLE IF EXISTS РаботаВыполнена;

-- Создание таблицы "РаботаВыполнена"
CREATE TABLE РаботаВыполнена (
    ИдентификаторРаботы INT PRIMARY KEY,
    НаименованиеРаботы VARCHAR(255),
    ФактическиеСрокиОкончанияРабот DATE,
    ЦенаРаботы DECIMAL(10, 2),
    КачествоРаботы INT,
    ЗамечанияЗаказчика VARCHAR(255),
    ИдентификаторДоговора INT,
    FOREIGN KEY (ИдентификаторДоговора) REFERENCES Договор(ИдентификаторДоговора)
);

-- Удаление таблицы "Работа", если она уже существует
DROP TABLE IF EXISTS РаботаМожноВыполнить;

-- Создание таблицы "РаботаМожноВыполнить"
CREATE TABLE РаботаМожноВыполнить (
    ИдентификаторРаботы INT PRIMARY KEY,
    НаименованиеРаботы VARCHAR(255),
    СрокиВыполненияРабот DATE,
    СтоимостьРаботы DECIMAL(10, 2),
    ОписаниеРаботы VARCHAR(255)
);








ДОБАВЛЕНИЕ ИНФОРМАЦИИ

-- Добавление данных о подрядчиках
INSERT INTO Подрядчик (ИдентификаторПодрядчика, ИмяПодрядчика, КонтактнаяИнформация, ПодписьПодрядчика) VALUES
(1, 'ООО "СтройГарант"', 'г. Москва, ул. Строителей, д. 10', 'Иванов Иван Иванович'),
(2, 'ИП Петров', 'г. Санкт-Петербург, ул. Строительная, д. 5', 'Петров Петр Петрович');

-- Добавление данных о заказчиках
INSERT INTO Заказчик (ИдентификаторЗаказчика, ИмяЗаказчика, КонтактнаяИнформация, ПодписьЗаказчика) VALUES
(1, 'ООО "КлиентСтрой"', 'г. Москва, ул. Заказчиков, д. 15', 'Сидоров Александр Васильевич'),
(2, 'Газпром', 'г. Санкт-Петербург, ул. Энергетиков, д. 20', 'Иванов Алексей Сергеевич');

-- Добавление данных о договорах
INSERT INTO Договор (ИдентификаторДоговора, НомерДоговора, ДатаДоговора, СуммаДоговора, ИдентификаторПодрядчика, ИдентификаторЗаказчика) VALUES
(1, 'Д-001', '2024-03-25', 10500.00, 1, 1),
(2, 'Д-002', '2024-03-26', 5000.00, 2, 2);

-- Добавление данных о работе
INSERT INTO РаботаВыполнена (ИдентификаторРаботы, НаименованиеРаботы, ФактическиеСрокиОкончанияРабот, ЦенаРаботы, КачествоРаботы, ЗамечанияЗаказчика, ИдентификаторДоговора) VALUES
(1, 'Замена масла ДВС', '2024-04-30', 300.00, 5, 'Отсутствуют', 1),
(2, 'Снятие/установка защиты ДВС', '2024-04-30', 200.00, 5, 'Отсутствуют', 1);
(3, 'Страхование Авто', '2024-04-30', 10000.00, 5, 'Отсутствуют', 1);
(4, 'Шиномонтаж колес', '2024-04-30', 12000.00, 5, 'Отсутствуют', 1);
-- Добавление данных о работе
INSERT INTO РаботаМожноВыполнить (ИдентификаторРаботы, НаименованиеРаботы, СтоимостьРаботы) VALUES
(1, 'Замена масла ДВС', 300.00),
(2, 'Снятие/установка защиты ДВС', 200.00);
(3, 'Страхование Авто', 10000.00);
(4, 'Шиномонтаж колес', 1200.00);
(5, 'Замена свечей зажигания', 500.00);
(6, 'Замена лампочек ближнего света', 100.00);





